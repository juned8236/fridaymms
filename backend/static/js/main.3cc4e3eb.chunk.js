(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,a,t){e.exports=t.p+"static/media/logo.f8918331.png"},30:function(e,a,t){},44:function(e,a,t){e.exports=t(77)},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),s=t.n(l),i=(t(49),t(50),t(51),t(52),t(8)),o=t(9),c=t(13),m=t(12),u=t(20),d=t(5),p=t(15),b=(t(30),t(25)),f=t.n(b),h=t(18);var g=function(){var e=this.props,a=e.label,t=e.type,n=e.id,l=e.val,s=e.className,i=e.placeholder,o=e.password1,c=e.password2,m=e.required;return r.a.createElement("div",{className:"form-group required-alert-box"},r.a.createElement("label",null,a),r.a.createElement("input",{id:n,type:t,value:l,className:s,password1:o,password2:c,onChange:this.fnChange.bind(this),required:m,placeholder:i,name:""}))},v=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"fnChange",value:function(e){var a=e.target,t=a.id,n=a.value;this.props.fnPrepareData(t,n)}},{key:"render",value:function(){return g.call(this)}}]),t}(r.a.Component),E=t(88);var O=function(){var e=this.state.dataObj,a=e.first_name,t=e.last_name,n=e.email,l=e.password1,s=e.password2,i=null,o=null,c=null,m=null,u=null;return this.props.email_link&&(u=r.a.createElement("p",null,"Click on link to activate Account :",this.props.email_link.detail)),this.props.regis&&(i=r.a.createElement("p",null,this.props.regis.response.data.email),o=r.a.createElement("p",null," ",this.props.regis.response.data.password1),c=r.a.createElement("p",null,this.props.regis.response.data.password2),m=r.a.createElement("p",null,this.props.regis.response.data.non_field_errors)),r.a.createElement("div",null,this.props.loading?r.a.createElement(E.a,{color:"secondary"}):r.a.createElement("div",{className:"admin-entry-section"},r.a.createElement("div",{className:"inner-admin"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-12 col-md-6 p-0 order-md-12 animated slideInLeft"},r.a.createElement("div",{className:"inner-section register-section"},r.a.createElement("img",{src:f.a,className:"logo",alt:""}),r.a.createElement("div",{className:"message-conntainer"},r.a.createElement("h2",{className:"text-center"},"Get started"),r.a.createElement("h4",{className:"text-center"},"It's free to signup and only takes a minute.")),r.a.createElement("p",null,"You have an account?",r.a.createElement(h.b,{to:"/login"},"Sign In")))),r.a.createElement("div",{className:"col-12 col-md-6 p-0 animated slideInRight"},r.a.createElement("div",{className:"form-section"},r.a.createElement("h2",null,"Sign up"),r.a.createElement("div",{className:"alert alert-warning",style:{padding:0,margin:0,border:0}},o,u),r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(v,{label:"First name",type:"text",className:"form-control",id:"first_name",val:a,placeholder:"First name",fnPrepareData:this.fnPrepareData})),r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(v,{label:"Last name",type:"text",className:"form-control",id:"last_name",val:t,placeholder:"Last name",fnPrepareData:this.fnPrepareData}))),r.a.createElement("div",{className:"alert alert-warning",style:{padding:0,margin:0,border:0}},i),r.a.createElement(v,{label:"Email Address",type:"text",className:"form-control",id:"email",val:n,placeholder:"Email Address",fnPrepareData:this.fnPrepareData}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement("div",{className:"alert alert-warning",style:{padding:0,margin:0,border:0}},c,m),r.a.createElement(v,{label:"Password",type:"Password",className:"form-control",id:"password1",val:l,placeholder:"Password",fnPrepareData:this.fnPrepareData})),r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(v,{label:"Confirm Password",type:"Password",className:"form-control",id:"password2",val:s,placeholder:"Confirm Password",fnPrepareData:this.fnPrepareData}))),r.a.createElement("div",{className:"form-group required-alert-box"},r.a.createElement("label",null,"Role"),r.a.createElement("select",{className:"form-control",name:"mySelect",onChange:this.handleChange},r.a.createElement("option",{value:""},"Select role"),r.a.createElement("option",{value:"is_admin"},"Admin"),r.a.createElement("option",{value:"is_miner"},"Miner"),r.a.createElement("option",{value:"read_only"},"Read Only"))),r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("button",{type:"submit",className:"btn btn-green btn-block",onClick:this.submit.bind(this)},"Sign Up"))))))))))},j=t(21),w=t.n(j),y=function(e){return{type:"AUTH_SUCCESS",token:e}},_=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},N=function(e){return function(a){setTimeout((function(){a(_())}),1e3*e)}},k=t(17),S=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).handleChange=function(a){console.log(a),"is_admin"===a.target.value&&e.setState({dataObj:Object(d.a)(Object(d.a)({},e.state.dataObj),{},{is_admin:a.target.value})}),"is_miner"===a.target.value&&e.setState({dataObj:Object(d.a)(Object(d.a)({},e.state.dataObj),{},{is_miner:a.target.value})}),"read_only"===a.target.value&&e.setState({dataObj:Object(d.a)(Object(d.a)({},e.state.dataObj),{},{read_only:a.target.value})})},e.state={dataObj:{first_name:"",last_name:"",email:"",password1:"",password2:"",is_admin:"",is_miner:"",read_only:""}},e.toggle=e.toggle.bind(Object(p.a)(e)),e.fnPrepareData=e.fnPrepareData.bind(Object(p.a)(e)),e.submit=e.submit.bind(Object(p.a)(e)),e}return Object(o.a)(t,[{key:"toggle",value:function(){this.props.app(!1)}},{key:"fnPrepareData",value:function(e,a){this.setState({dataObj:Object(d.a)(Object(d.a)({},this.state.dataObj),{},Object(u.a)({},e,a))})}},{key:"submit",value:function(){this.props.onAuth(this.state.dataObj.first_name,this.state.dataObj.last_name,this.state.dataObj.email,this.state.dataObj.password1,this.state.dataObj.password2,this.state.dataObj.is_admin,this.state.dataObj.is_miner,this.state.dataObj.read_only)}},{key:"render",value:function(){return O.call(this)}}]),t}(r.a.Component),D=Object(k.b)((function(e){return{loading:e.loading,error:e.error,regis:e.regis,email_link:e.email_link}}),(function(e){return{onAuth:function(a,t,n,r,l,s,i,o){return e(function(e,a,t,n,r,l,s,i){return function(o){o({type:"AUTH_START"}),w.a.post("http://127.0.0.1:8000/rest-auth/registration/",{first_name:e,last_name:a,email:t,password1:n,password2:r,is_admin:l,is_miner:s,read_only:i}).then((function(e){var a=e.data;o(function(e){return{type:"registration",email_link:e}}(a))})).catch((function(e){o({type:"reg_error",regis:e})}))}}(a,t,n,r,l,s,i,o))}}}))(S);t(75),t(76);var P=function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("h1",null,"Dashboard"))},A=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return P.call(this)}}]),t}(r.a.Component);var T=function(){var e=this.state.dataObj,a=e.email,t=e.password,n=null,l=null,s=null;return this.props.error&&(n=r.a.createElement("p",null,this.props.error.response.data.non_field_errors),l=r.a.createElement("p",null,this.props.error.response.data.password),s=r.a.createElement("p",null,this.props.error.response.data.email)),r.a.createElement("div",null,this.props.loading?r.a.createElement(E.a,{color:"secondary"}):r.a.createElement("div",{className:"admin-entry-section"},r.a.createElement("div",{className:"inner-admin"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-12 col-md-6 p-0 animated slideInRight"},r.a.createElement("div",{className:"inner-section"},r.a.createElement("img",{src:f.a,className:"logo",alt:""}),r.a.createElement("div",{className:"message-conntainer"},r.a.createElement("h2",{className:"text-center"},"Welcome back!"),r.a.createElement("h4",{className:"text-center"},"Please sign in to continue.")),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(h.b,{to:"/"},"Create an account")))),r.a.createElement("div",{className:"col-12 col-md-6 p-0 animated slideInLeft"},r.a.createElement("div",{className:"form-section"},r.a.createElement("h2",null,"Sign in"),r.a.createElement("div",{className:"alert alert-warning",style:{padding:0,margin:0,border:0}},n,l,s),r.a.createElement("form",null,r.a.createElement(v,{label:"Email Address",type:"text",className:"form-control",id:"email",val:a,required:"required",placeholder:"Email Address",fnPrepareData:this.fnPrepareData}),r.a.createElement(v,{label:"Password",type:"password",className:"form-control",id:"password",val:t,required:!0,placeholder:"Password",fnPrepareData:this.fnPrepareData}),r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("div",{className:"row mx-0 justify-content-between align-items-center"},r.a.createElement("span",{className:"checkbox-custom"},r.a.createElement("input",{type:"checkbox",name:"",id:"remember"}),r.a.createElement("label",{htmlFor:"remember"},"Remember me")),r.a.createElement("a",{href:"reset-password.html"},"Forgot password?"))),r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("button",{type:"submit",className:"btn btn-green btn-block",onClick:this.submit.bind(this)},"Sign In"))))))))))},C=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).state={dataObj:{email:"",password:""}},e.submit=e.submit.bind(Object(p.a)(e)),e.fnPrepareData=e.fnPrepareData.bind(Object(p.a)(e)),e}return Object(o.a)(t,[{key:"fnPrepareData",value:function(e,a){this.setState({dataObj:Object(d.a)(Object(d.a)({},this.state.dataObj),{},Object(u.a)({},e,a))})}},{key:"submit",value:function(){this.props.onAuth(this.state.dataObj.email,this.state.dataObj.password),this.props.token&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return T.call(this)}}]),t}(r.a.Component),x=Object(k.b)((function(e){return{loading:e.loading,error:e.error,token:e.token}}),(function(e){return{onAuth:function(a,t){return e(function(e,a){return function(t){t({type:"AUTH_START"}),w.a.post("http://127.0.0.1:8000/rest-auth/login/",{email:e,password:a}).then((function(e){var a=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",a),localStorage.setItem("expirationDate",n),t(y(a)),t(N(3600))})).catch((function(e){t({type:"AUTH_FAIL",error:e})}))}}(a,t))}}}))(C),I=t(2),U=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{exact:!0,path:"/",component:D}),r.a.createElement(I.a,{exact:!0,path:"/login/",component:x}),r.a.createElement(I.a,{exact:!0,path:"/dashboard/",component:A}))},H=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).callbackFunction=function(a){e.setState({title:a})},e.callbackFunction1=function(a){e.setState({title:a})},e.state={title:!0},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){this.state.title;return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(U,null)))}}]),t}(n.Component),L=Object(k.b)((function(e){return{isAuthenticated:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var a=localStorage.getItem("token");if(void 0===a)e(_());else{var t=new Date(localStorage.getItem("expirationDate"));t<=new Date?e(_()):(e(y(a)),e(N((t.getTime()-(new Date).getTime())/1e3)))}}))}}}))(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=t(22),F=t(41),q=function(e,a){return Object(d.a)(Object(d.a)({},e),a)},M={token:null,error:null,loading:!1,regis:null,email_link:null},G=function(e,a){return q(e,{error:null,loading:!0})},W=function(e,a){return q(e,{token:a.token,error:null,loading:!1})},B=function(e,a){return q(e,{error:a.error,loading:!1})},J=function(e,a){return q(e,{token:null})},X=function(e,a){return q(e,{email_link:a.email_link,error:null,loading:!1})},V=function(e,a){return q(e,{regis:a.regis,loading:!1})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"AUTH_START":return G(e);case"AUTH_SUCCESS":return W(e,a);case"AUTH_FAIL":return B(e,a);case"AUTH_LOGOUT":return J(e);case"registration":return X(e,a);case"reg_error":return V(e,a);default:return e}},$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,z=Object(R.d)(Y,$(Object(R.a)(F.a)));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.a,{store:z},r.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.3cc4e3eb.chunk.js.map